#
# taskwarrior
#

# work around always defaulting to 80 columns when piping
# note: ${COLUMNS:-80} not needed, blank value is default (which is 80)
# todo: implement env var expansion in taskwarrior
# also: #991
#
task () { `type -P task` rc.defaultwidth=$COLUMNS "$@"; }

# for taskadd
#
taskaddl () { TASKADD="$*"; } # additional args (such as tags)
taskprj () { TASKPRJ="$@"; } # default project

# look in the fields we use that have text, default is only description
# todo: should we also search label text? probably not since those are
# more like "named dimensions"
#
taskgrep ()
{
	has="$1"; shift;
	task \( \
		project.has:"$has" or \
		label.has:"$has" or \
		description.has:"$has" \
	\) "$@"
}
